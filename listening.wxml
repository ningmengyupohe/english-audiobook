<view class="listening-container">
  <!-- é¡¶éƒ¨æ  -->
  <view class="game-header">
    <view class="back-btn" bindtap="goBack">â†</view>
    <text class="game-title">å¬åŠ›ç†è§£æ¸¸æˆ</text>
    <view class="score">å¾—åˆ†: {{score}}</view>
  </view>
  
  <!-- æ¸¸æˆåŒºåŸŸ -->
  <view class="game-area">
    <!-- éŸ³é¢‘æ’­æ”¾åŒºåŸŸ -->
    <view class="audio-player">
      <view class="audio-card">
        <text class="audio-title">ç¬¬{{currentIndex}}é¢˜</text>
        
        <view class="audio-controls">
          <view class="control-btn play-btn" bindtap="togglePlay">
            <text wx:if="{{isPlaying}}">â¸</text>
            <text wx:else>â–¶ï¸</text>
          </view>
          
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{audioProgress}}%;"></view>
          </view>
          
          <text class="audio-time">{{formatTime(audioCurrentTime)}}/{{formatTime(audioDuration)}}</text>
        </view>
        
        <view class="play-count">
          <text>å‰©ä½™æ’­æ”¾æ¬¡æ•°: {{playCount}}</text>
        </view>
      </view>
    </view>
    
    <!-- é—®é¢˜åŒºåŸŸ -->
    <view class="question-area">
      <text class="question-text">{{currentQuestion.question}}</text>
      
      <!-- é€‰é¡¹ -->
      <view class="options-container">
        <view class="option-item" 
              wx:for="{{currentQuestion.options}}" 
              wx:key="index"
              data-index="{{index}}"
              bindtap="selectOption"
              style="{{optionStyles[index]}}">
          <text class="option-text">{{item}}</text>
        </view>
      </view>
    </view>
    
    <!-- æ§åˆ¶æŒ‰é’® -->
    <view class="control-buttons">
      <view class="btn hint-btn" bindtap="showHint">
        <text>æç¤º</text>
      </view>
      <view class="btn submit-btn" bindtap="submitAnswer">
        <text>æäº¤ç­”æ¡ˆ</text>
      </view>
      <view class="btn next-btn" bindtap="nextQuestion">
        <text>ä¸‹ä¸€é¢˜</text>
      </view>
    </view>
    
    <!-- è¿›åº¦æ¡ -->
    <view class="progress-section">
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{(currentIndex/totalQuestions)*100}}%;"></view>
      </view>
      <text class="progress-text">{{currentIndex}}/{{totalQuestions}}</text>
    </view>
  </view>
  
  <!-- ç»“æœå¼¹çª— -->
  <view class="result-modal" wx:if="{{showResult}}">
    <view class="modal-content">
      <text class="result-icon">{{resultIcon}}</text>
      <text class="result-title">{{resultTitle}}</text>
      <text class="result-desc">{{resultDescription}}</text>
      
      <view class="result-buttons">
        <view class="result-btn next-btn" bindtap="nextQuestion">
          <text>ä¸‹ä¸€é¢˜</text>
        </view>
        <view class="result-btn back-btn" bindtap="backToPlayer">
          <text>è¿”å›æ’­æ”¾å™¨</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- æç¤ºå¼¹çª— -->
  <view class="hint-modal" wx:if="{{showHintModal}}">
    <view class="hint-content">
      <text class="hint-title">ğŸ’¡ æç¤º</text>
      <text class="hint-text">{{currentQuestion.hint}}</text>
      <view class="hint-close" bindtap="closeHint">
        <text>æˆ‘çŸ¥é“äº†</text>
      </view>
    </view>
  </view>
</view>