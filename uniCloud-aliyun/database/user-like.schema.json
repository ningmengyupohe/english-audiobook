{
  "bsonType": "object",
  "required": ["_id", "userId", "targetType", "targetId"],
  "properties": {
    "_id": { "description": "点赞记录ID" },
    "userId": { "bsonType": "string", "label": "用户ID", "foreignKey": "user._id" },
    "targetType": { "bsonType": "string", "label": "点赞对象类型", "enum": ["书籍", "章节", "评论", "用户"], "defaultValue": "书籍" },
    "targetId": { "bsonType": "string", "label": "点赞对象ID" },
    "likeTime": { "bsonType": "timestamp", "label": "点赞时间", "defaultValue": { "$env": "now" } }
  },
  "indexes": [
    { "name": "userId_1_targetType_1_targetId_1", "key": { "userId": 1, "targetType": 1, "targetId": 1 }, "unique": true },
    { "name": "targetType_1_targetId_1", "key": { "targetType": 1, "targetId": 1 } },
    { "name": "userId_1_likeTime_-1", "key": { "userId": 1, "likeTime": -1 } }
  ]
}