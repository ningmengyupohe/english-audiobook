<view class="wordmatch-container">
  <!-- é¡¶éƒ¨æ  -->
  <view class="game-header">
    <view class="back-btn" bindtap="goBack">â†</view>
    <text class="game-title">å•è¯è¿è¿çœ‹</text>
    <view class="score">
      <text>å¾—åˆ†: {{score}}</text>
      <text class="timer">æ—¶é—´: {{formatTime(timeLeft)}}</text>
    </view>
  </view>
  
  <!-- æ¸¸æˆè¯´æ˜ -->
  <view class="instructions" wx:if="{{!gameStarted}}">
    <text class="instruction-title">æ¸¸æˆè¯´æ˜</text>
    <text class="instruction-text">å°†å·¦è¾¹çš„è‹±æ–‡å•è¯ä¸å³è¾¹çš„æ­£ç¡®ä¸­æ–‡é‡Šä¹‰è¿æ¥èµ·æ¥</text>
    <view class="start-btn" bindtap="startGame">
      <text>å¼€å§‹æ¸¸æˆ</text>
    </view>
  </view>
  
  <!-- æ¸¸æˆåŒºåŸŸ -->
  <view class="game-area" wx:if="{{gameStarted}}">
    <!-- å½“å‰å…³å¡ -->
    <view class="level-info">
      <text class="level-title">ç¬¬{{currentLevel}}å…³</text>
      <text class="matches-count">å·²åŒ¹é…: {{matchedCount}}/{{totalPairs}}</text>
    </view>
    
    <!-- è¿çº¿åŒºåŸŸ -->
    <view class="matching-area">
      <!-- è‹±æ–‡å•è¯åŒº -->
      <view class="english-words">
        <view class="word-column">
          <view class="word-item" 
                wx:for="{{englishWords}}" 
                wx:key="index"
                data-index="{{index}}"
                bindtouchstart="startConnect"
                style="{{englishStyles[index]}}">
            <text class="word-text">{{item}}</text>
          </view>
        </view>
      </view>
      
      <!-- ä¸­æ–‡é‡Šä¹‰åŒº -->
      <view class="chinese-words">
        <view class="word-column">
          <view class="word-item" 
                wx:for="{{chineseWords}}" 
                wx:key="index"
                data-index="{{index}}"
                bindtouchstart="endConnect"
                style="{{chineseStyles[index]}}">
            <text class="word-text">{{item}}</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- æ§åˆ¶æŒ‰é’® -->
    <view class="control-buttons">
      <view class="btn hint-btn" bindtap="showHint">
        <text>æç¤º</text>
      </view>
      <view class="btn reset-btn" bindtap="resetConnections">
        <text>é‡ç½®</text>
      </view>
      <view class="btn check-btn" bindtap="checkMatches">
        <text>æ£€æŸ¥</text>
      </view>
    </view>
    
    <!-- å½“å‰è¿çº¿ -->
    <view class="connection-area">
      <text wx:if="{{currentConnection}}">æ­£åœ¨è¿æ¥: {{currentConnection.from}} â†’ ?</text>
    </view>
    
    <!-- è¿›åº¦æ¡ -->
    <view class="progress-section">
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{(matchedCount/totalPairs)*100}}%;"></view>
      </view>
      <text class="progress-text">{{matchedCount}}/{{totalPairs}}</text>
    </view>
  </view>
  
  <!-- ç»“æœå¼¹çª— -->
  <view class="result-modal" wx:if="{{showResult}}">
    <view class="modal-content">
      <text class="result-icon">{{resultIcon}}</text>
      <text class="result-title">{{resultTitle}}</text>
      <text class="result-score">å¾—åˆ†: +{{levelScore}}åˆ†</text>
      <text class="result-time">ç”¨æ—¶: {{formatTime(levelTime)}}</text>
      
      <view class="result-buttons">
        <view class="result-btn next-btn" bindtap="nextLevel" wx:if="{{!gameCompleted}}">
          <text>ä¸‹ä¸€å…³</text>
        </view>
        <view class="result-btn restart-btn" bindtap="restartGame" wx:if="{{gameCompleted}}">
          <text>é‡æ–°å¼€å§‹</text>
        </view>
        <view class="result-btn back-btn" bindtap="backToPlayer">
          <text>è¿”å›æ’­æ”¾å™¨</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- æç¤ºå¼¹çª— -->
  <view class="hint-modal" wx:if="{{showHintModal}}">
    <view class="hint-content">
      <text class="hint-title">ğŸ’¡ æç¤º</text>
      <text class="hint-text">{{hintText}}</text>
      <view class="hint-close" bindtap="closeHint">
        <text>æˆ‘çŸ¥é“äº†</text>
      </view>
    </view>
  </view>
</view>